<h1 id="hosting-packages-sshsync-io">Hosting packages.sshsync.io</h1>
<p>This guide describes how to configure a Linux server to host the Debian and RPM repositories generated by the release workflow.</p>
<h2 id="install-required-packages">Install required packages</h2>
<pre><code class="lang-bash">sudo apt-get update
sudo apt-get install -y nginx gnupg createrepo dpkg-dev
</code></pre>
<h2 id="create-repository-directories">Create repository directories</h2>
<pre><code class="lang-bash">sudo mkdir -p /var/www/packages/deb /var/www/packages/rpm
sudo chown $USER /var/www/packages/deb /var/www/packages/rpm
</code></pre>
<h2 id="expose-the-repositories-with-nginx">Expose the repositories with Nginx</h2>
<p>Create <code>/etc/nginx/sites-available/packages.conf</code>:</p>
<pre><code class="lang-nginx">server {
    listen 80;
    server_name packages.sshsync.io;
    root /var/www/packages;
    autoindex on;
}
</code></pre>
<p>Enable the site and reload Nginx:</p>
<pre><code class="lang-bash">sudo ln -s /etc/nginx/sites-available/packages.conf /etc/nginx/sites-enabled/packages.conf
sudo nginx -t && sudo systemctl reload nginx
</code></pre>
<h2 id="import-the-gpg-key">Import the GPG key</h2>
<p>The public key used to sign the repository metadata should be exported from the CI secrets:</p>
<pre><code class="lang-bash">gpg --import ssh-sync.pub
</code></pre>
<h2 id="configure-ssh-access">Configure SSH access</h2>
<p>Create a user for uploads and add its public key to <code>~/.ssh/authorized_keys</code>.</p>
<h2 id="update-dns">Update DNS</h2>
<p>Point <code>packages.sshsync.io</code> to this server.</p>
<p>Once these steps are complete, each tagged release will synchronize the <code>repo/</code> directory to <code>/var/www/packages</code> using rsync over SSH.</p>
